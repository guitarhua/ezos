STM32堆栈分配说明

STM32的堆栈需要自行分配，可在下述文件中分配

startup_stm32f10x_cl.s / startup_stm32f10x_hd.s / startup_stm32f10x_hd_vl.s

找到如下两行：
Stack_Size      EQU     0x00004000
Heap_Size       EQU     0x00001000

即是分配SRAM区堆栈大小的地方



STM32的SRAM都较大，SRAM被分配为三个区域

1. 静态存储区，存放全局变量，静态变量
2. 栈（Stack），局部变量等
3. 堆（Heap），用户申请和释放



注意：

静态存储区可由编译器确定大小，溢出会在编译时就报错。

堆的溢出编译器无法判断，但堆的大小用户较容易计算，
用户使用 mallco 时即申请堆，free 时即释放堆，
而且堆的申请超过允许值时，会返回申请失败。

栈的溢出编译器无法判断，栈由系统控制，而且栈大小的最大需求很难计算，
栈大小的是由函数及中断嵌套调用的深度决定的。
栈溢出后，程序必定会跑飞，后果非常严重。
因此，建议对栈采用最保守的分配方法。